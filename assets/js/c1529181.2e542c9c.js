"use strict";(self.webpackChunkakita_docs=self.webpackChunkakita_docs||[]).push([[1904],{3905:function(e,t,r){r.d(t,{Zo:function(){return l},kt:function(){return f}});var n=r(7294);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var c=n.createContext({}),u=function(e){var t=n.useContext(c),r=t;return e&&(r="function"==typeof e?e(t):a(a({},t),e)),r},l=function(e){var t=u(e.components);return n.createElement(c.Provider,{value:t},e.children)},p="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},y=n.forwardRef((function(e,t){var r=e.components,o=e.mdxType,i=e.originalType,c=e.parentName,l=s(e,["components","mdxType","originalType","parentName"]),p=u(r),y=o,f=p["".concat(c,".").concat(y)]||p[y]||d[y]||i;return r?n.createElement(f,a(a({ref:t},l),{},{components:r})):n.createElement(f,a({ref:t},l))}));function f(e,t){var r=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var i=r.length,a=new Array(i);a[0]=y;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s[p]="string"==typeof e?e:o,a[1]=s;for(var u=2;u<i;u++)a[u]=r[u];return n.createElement.apply(null,a)}return n.createElement.apply(null,r)}y.displayName="MDXCreateElement"},8594:function(e,t,r){r.r(t),r.d(t,{assets:function(){return l},contentTitle:function(){return c},default:function(){return y},frontMatter:function(){return s},metadata:function(){return u},toc:function(){return p}});var n=r(3117),o=r(102),i=(r(7294),r(3905)),a=["components"],s={title:"Sorting"},c=void 0,u={unversionedId:"entities/sorting",id:"entities/sorting",title:"Sorting",description:"By default, the store returns entities in the order in which they arrived from the server. The entities you add are pushed to the end of the collection.",source:"@site/docs/entities/sorting.mdx",sourceDirName:"entities",slug:"/entities/sorting",permalink:"/akita/docs/entities/sorting",draft:!1,editUrl:"https://github.com/salesforce/akita/edit/master/docs/docs/entities/sorting.mdx",tags:[],version:"current",frontMatter:{title:"Sorting"},sidebar:"docs",previous:{title:"Active Entity",permalink:"/akita/docs/entities/active"},next:{title:"UI State",permalink:"/akita/docs/ui"}},l={},p=[],d={toc:p};function y(e){var t=e.components,r=(0,o.Z)(e,a);return(0,i.kt)("wrapper",(0,n.Z)({},d,r,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"By default, the store returns entities in the order in which they arrived from the server. The entities you add are pushed to the end of the collection.\nYou may prefer getting the entities from the store in some other order. You can provide a ",(0,i.kt)("inlineCode",{parentName:"p"},"sortBy")," option which could be based on an entity ",(0,i.kt)("inlineCode",{parentName:"p"},"key")," or a ",(0,i.kt)("inlineCode",{parentName:"p"},"comparer")," function."),(0,i.kt)("p",null,"Akita will keep the collection in the order prescribed by your ",(0,i.kt)("inlineCode",{parentName:"p"},"key")," or ",(0,i.kt)("inlineCode",{parentName:"p"},"comparer"),". You can set it once for the entire Query:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts",metastring:'title="products.query.ts"',title:'"products.query.ts"'},"import { QueryConfig, Order } from '@datorama/akita';\n \n@QueryConfig({\n  sortBy: 'price',\n  sortByOrder: Order.ASC\n})\nexport class ProductsQuery extends QueryEntity<ProductsState> {\n  constructor(protected store: ProductsStore) {\n    super(store);\n  }\n}\n")),(0,i.kt)("p",null,"Or you can set it per ",(0,i.kt)("inlineCode",{parentName:"p"},"selectAll()"),":"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts"},"const products$ = sortControl.valueChanges.pipe(\n   startWith('title'),\n   switchMap((sortBy) => productsQuery.selectAll({\n     sortBy\n   }))\n );\n")),(0,i.kt)("p",null,"The query ",(0,i.kt)("inlineCode",{parentName:"p"},"sortBy")," function also passes the whole ",(0,i.kt)("inlineCode",{parentName:"p"},"state")," as the third argument, give you the ability to return a different ",(0,i.kt)("inlineCode",{parentName:"p"},"sortBy")," function based on your current ",(0,i.kt)("inlineCode",{parentName:"p"},"state"),". For example:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts"},"const sortBy = (a, b, state) => (\n    state.sortyByPrice ? \n    sortByPrice(a, b) : \n    sortById(a, b)\n);\n\n// With QueryConfig\n@QueryConfig({ sortBy })\n\n// With selectAll\nqueryTodos.selectAll({ sortBy });\n")))}y.isMDXComponent=!0}}]);